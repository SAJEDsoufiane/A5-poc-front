<div class="container mt-5">
    <h2>List of users</h2>
    <table class="table">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">UserName</th>
                <th scope="col">Firstname</th>
                <th scope="col">Lastname</th>
                <th scope="col">Role</th>
                <th scope="col">Manager</th>
                <th scope="col">Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let user of users; index as i">
                <th scope="row">{{user.id}}</th>
                <td>{{ user.userName }}</td>
                <td>{{ user.firstname }}</td>
                <td>{{ user.lastname }}</td>
                <td>{{ user.role.label }}</td>
                <td>{{ user.manager?.userName ? user.manager.userName : 'None' }}</td>
                <td>
                    <button class="btn btn-primary" (click)="updateUser(user.id)">Update</button>
                    <button class="btn btn-danger" (click)="deleteUser(user.id)">Delete</button>
                </td>
            </tr>
        </tbody>
    </table>
    <div class="card">
        <form *ngIf="updateDiv">
            <div class="card-header">
                User Infos
            </div>
            <div class="card-body">
                <div class="form-group">
                    <label for="inputName">UserName</label>
                    <input type="text" class="form-control" id="inputName" [(ngModel)]="user.userName" name="username">
                </div>
                <div class="form-group">
                    <label for="inputEmail">FirstName</label>
                    <input type="email" class="form-control" id="inputEmail" [(ngModel)]="user.firstname" name="firstname">
                </div>
                <div class="form-group">
                    <label for="inputEmail">LastName</label>
                    <input type="email" class="form-control" id="inputEmail" [(ngModel)]="user.lastname" name="lastname">
                </div>
                <div class="form-group">
                    <label for="inputEmail">Manager</label>
                    <input type="email" class="form-control" id="inputManager" [(ngModel)]="user.manager.userName" name="manager">
                </div>
                <div class="form-group">
                    <label for="inputEmail">Role</label>
                    <input type="email" class="form-control" id="inputRole" [(ngModel)]="user.role.label" name="role">
                </div>
                <button class="btn btn-primary" (click)="update(user.id)">Update User</button>
                <div class="float-right"> <button class="btn btn-danger" (click)="cancel()">Cancel</button>
                </div>
            </div>

        </form>
    </div>

</div>
